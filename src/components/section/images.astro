---
import Section from "../Section.astro";
const ACCESS_KEY = 'T2-l07OCv5UQjUZtXZhZEXPNmL6aFJdYRBUQsNJnzfY'; 

async function fetchImages() {
  const response = await fetch(
    `https://api.unsplash.com/search/photos?query=tecnología&client_id=${ACCESS_KEY}&per_page=4`
  );
  const data = await response.json();
  return data.results;
}

const images = await fetchImages();
---

<Section>
  <div class="gallery">
    {images.map((image) => (
      <img
        src={image.urls.regular}
        alt={image.alt_description || 'Imagen de tecnología'}
        loading="lazy"
      />
    ))}
  </div>
</Section>

<style>
  .gallery {
    display: flex;
    width: 770px;
    height: 400px;
  }

  .gallery img {
   width: 0;  
   flex-grow: 1;
   object-fit: cover;
   opacity: .8;
   transition: .5s ease;
   /* border-radius: 10px; */
  }

  .gallery img:hover {
    cursor: crosshair;
    width: 300px;
    opacity: 1;
    filter: contrast(100%);
  }
</style>